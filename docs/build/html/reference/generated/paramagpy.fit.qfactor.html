
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>paramagpy.fit.qfactor &#8212; paramagpy 1.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/classic.css" />
    
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="paramagpy.fit.sphere_grid" href="paramagpy.fit.sphere_grid.html" />
    <link rel="prev" title="paramagpy.fit.pcs_gradient_orthogonality_dot" href="paramagpy.fit.pcs_gradient_orthogonality_dot.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="paramagpy.fit.sphere_grid.html" title="paramagpy.fit.sphere_grid"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="paramagpy.fit.pcs_gradient_orthogonality_dot.html" title="paramagpy.fit.pcs_gradient_orthogonality_dot"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">paramagpy 1.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Reference Guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="paramagpy.fit.html" accesskey="U">paramagpy.fit</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">paramagpy.fit.qfactor</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="paramagpy-fit-qfactor">
<h1>paramagpy.fit.qfactor<a class="headerlink" href="#paramagpy-fit-qfactor" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="paramagpy.fit.qfactor">
<span class="sig-prename descclassname"><span class="pre">paramagpy.fit.</span></span><span class="sig-name descname"><span class="pre">qfactor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensembleAverage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calDenominator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/paramagpy/fit.html#qfactor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#paramagpy.fit.qfactor" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the Q-factor to judge tensor fit quality</p>
<p>A lower value indicates a better fit. The Q-factor is calculated using
the following equation:</p>
<div class="math notranslate nohighlight">
\[Q = \sqrt{
        \frac{\sum_i\left[\left(\sum_m\left[
        PCS^{exp}_{m,i}-PCS^{calc}_{m,i}\right]\right)^2\right]}
        {\sum_i\left[
        \left(\sum_m\left[PCS^{exp}_{m,i}\right]\right)^2\right]}
}\]</div>
<p>where <span class="math notranslate nohighlight">\(m\)</span> and <span class="math notranslate nohighlight">\(i\)</span> are usually indexed over models and atoms
respectively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataArray</strong> (<em>numpy array</em>) – the dataArray must contain the columns ‘exp’, ‘cal’ and ‘idx’
corresponding to the experimenta, calculated and index values
respectively. The index value determines the ensemble averaging
behaviour, and can be ignored if the argument &lt;ensembleAverage&gt;
is False.</p></li>
<li><p><strong>ensembleAverage</strong> (<em>bool</em><em>, </em><em>optional</em>) – when False, the q-factor calculation squares each difference
independently.
When True, the q-factor calculates an ensemble average before
taking the square of differences. The ‘idx’ column of the dataArray
determines the ensemble averaging behaviour with common indices
for atoms between models resulting in their summation.</p></li>
<li><p><strong>calDenominator</strong> (<em>bool</em><em>, </em><em>optional</em>) – when False, the standard Q-factor is calculated with only the sum
of squares for the experimental values used in the denominator
when True, the Q-factor established by Ubbink et al. is
calculated which has a sum of absolute values of exp and cal
values squared in the denominator.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>qfactor</strong> – the Q-factor</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="paramagpy.fit.pcs_gradient_orthogonality_dot.html"
                        title="previous chapter">paramagpy.fit.pcs_gradient_orthogonality_dot</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="paramagpy.fit.sphere_grid.html"
                        title="next chapter">paramagpy.fit.sphere_grid</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/reference/generated/paramagpy.fit.qfactor.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="paramagpy.fit.sphere_grid.html" title="paramagpy.fit.sphere_grid"
             >next</a> |</li>
        <li class="right" >
          <a href="paramagpy.fit.pcs_gradient_orthogonality_dot.html" title="paramagpy.fit.pcs_gradient_orthogonality_dot"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">paramagpy 1.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Reference Guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="paramagpy.fit.html" >paramagpy.fit</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">paramagpy.fit.qfactor</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Henry Orton.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.1.2.
    </div>
  </body>
</html>